<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Scraper Pro - Advanced No-Code Web Scraping Tool</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS (for grid/flex utilities) -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Header -->
    <header class="glass-panel mx-4 mt-4 p-5 relative z-10">
        <div class="flex items-center justify-between">
            <div class="flex items-center gap-4">
                <div class="w-14 h-14 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform duration-200">
                    <i class="fas fa-spider text-white text-2xl"></i>
                </div>
                <div>
                    <h1 class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600">Web Scraper Pro</h1>
                    <p class="text-sm text-gray-500 font-medium">No-Code Web Scraping Tool ‚Ä¢ Extract Data Visually</p>
                </div>
            </div>
            <div class="flex items-center gap-3">
                <button onclick="showHelp()" class="btn btn-ghost btn-sm">
                    <i class="fas fa-question-circle text-lg"></i>
                    <span>Help</span>
                </button>
                <a href="https://github.com" target="_blank" class="btn btn-ghost btn-sm">
                    <i class="fab fa-github text-lg"></i>
                    <span>GitHub</span>
                </a>
                <div class="w-px h-8 bg-gray-300 mx-2"></div>
                <div id="connectionStatus" class="flex items-center gap-2 px-3 py-1.5 bg-green-50 rounded-full">
                    <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                    <span class="text-xs font-semibold text-green-700">Ready</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Steps -->
    <div class="container mx-auto px-4 mt-6 relative z-10">
        <div class="glass-panel p-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4 step-item active" data-step="1">
                    <div class="step-circle w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold shadow-md transition-all duration-300">
                        <i class="fas fa-link"></i>
                    </div>
                    <div>
                        <p class="text-sm font-semibold text-gray-800">Step 1</p>
                        <p class="text-xs text-gray-500">Enter URL</p>
                    </div>
                </div>
                <div class="flex-1 h-1 bg-gray-200 mx-4 step-line"></div>
                <div class="flex items-center gap-4 step-item" data-step="2">
                    <div class="step-circle w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold transition-all duration-300">
                        <i class="fas fa-mouse-pointer"></i>
                    </div>
                    <div>
                        <p class="text-sm font-semibold text-gray-500">Step 2</p>
                        <p class="text-xs text-gray-400">Select Elements</p>
                    </div>
                </div>
                <div class="flex-1 h-1 bg-gray-200 mx-4 step-line"></div>
                <div class="flex items-center gap-4 step-item" data-step="3">
                    <div class="step-circle w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold transition-all duration-300">
                        <i class="fas fa-filter"></i>
                    </div>
                    <div>
                        <p class="text-sm font-semibold text-gray-500">Step 3</p>
                        <p class="text-xs text-gray-400">Extract Data</p>
                    </div>
                </div>
                <div class="flex-1 h-1 bg-gray-200 mx-4 step-line"></div>
                <div class="flex items-center gap-4 step-item" data-step="4">
                    <div class="step-circle w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold transition-all duration-300">
                        <i class="fas fa-download"></i>
                    </div>
                    <div>
                        <p class="text-sm font-semibold text-gray-500">Step 4</p>
                        <p class="text-xs text-gray-400">Export Results</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container mx-auto px-4 py-6 relative z-10">
        <!-- Step 1: URL Input -->
        <div class="glass-panel p-8 mb-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold shadow-md">
                    <span>1</span>
                </div>
                <h2 class="text-xl font-bold text-gray-800">Enter Website URL</h2>
            </div>
            
            <div class="flex gap-4 items-start">
                <div class="input-group flex-1">
                    <i class="fas fa-globe input-group-icon"></i>
                    <input type="text" 
                           id="urlInput" 
                           class="input-field" 
                           placeholder="https://example.com" 
                           value=""
                           autocomplete="off">
                </div>
                <div class="relative w-24 flex-shrink-0">
                    <i class="fas fa-clock input-group-icon"></i>
                    <input type="number" 
                           id="waitTime" 
                           class="input-field" 
                           placeholder="Wait" 
                           value="3" 
                           min="1" 
                           max="10">
                </div>
                <button onclick="scrapeUrl()" class="btn btn-primary btn-lg flex-shrink-0" id="scrapeBtn">
                    <i class="fas fa-download"></i>
                    <span>Scrape Website</span>
                </button>
            </div>
            
            <!-- Loading State -->
            <div id="scrapeStatus" class="mt-6 hidden">
                <div class="flex items-center gap-4 p-4 bg-blue-50 rounded-xl border border-blue-200">
                    <div class="loading-spinner"></div>
                    <div class="flex-1">
                        <p class="font-semibold text-blue-800">Scraping website...</p>
                        <p class="text-sm text-blue-600">Please wait while we fetch the page content</p>
                    </div>
                    <div class="loading-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
                <div class="mt-3">
                    <div class="progress-bar">
                        <div class="progress-bar-fill" style="width: 0%" id="scrapeProgress"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="glass-panel mb-6">
            <div class="tab-container">
                <button class="tab-btn active" onclick="switchTab('visual', this)">
                    <i class="fas fa-eye tab-icon"></i>
                    <span>Visual Selector</span>
                </button>
                <button class="tab-btn" onclick="switchTab('elements', this)">
                    <i class="fas fa-list tab-icon"></i>
                    <span>Element List</span>
                </button>
                <button class="tab-btn" onclick="switchTab('html', this)">
                    <i class="fas fa-code tab-icon"></i>
                    <span>HTML Code</span>
                </button>
                <button class="tab-btn" onclick="switchTab('extraction', this)">
                    <i class="fas fa-filter tab-icon"></i>
                    <span>Extraction Rules</span>
                </button>
                <button class="tab-btn" onclick="switchTab('results', this)">
                    <i class="fas fa-table tab-icon"></i>
                    <span>Results</span>
                </button>
            </div>
        </div>

        <!-- Content Area -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Left Panel - Main Content -->
            <div class="lg:col-span-2">
                <!-- Visual Selector Tab -->
                <div id="visualTab" class="tab-content">
                    <div class="glass-panel p-6">
                        <div class="flex justify-between items-center mb-6">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center">
                                    <i class="fas fa-eye text-white text-sm"></i>
                                </div>
                                <h3 class="text-lg font-bold text-gray-800">Visual Element Selector</h3>
                            </div>
                            <div class="flex gap-2">
                                <span class="badge badge-info">
                                    <i class="fas fa-mouse-pointer"></i>
                                    Click elements to select
                                </span>
                                <button onclick="refreshPreview()" class="btn btn-secondary btn-sm">
                                    <i class="fas fa-sync"></i>
                                    <span>Refresh</span>
                                </button>
                            </div>
                        </div>
                        <div id="previewContainer" class="relative">
                            <div id="noPreview" class="text-center py-20">
                                <div class="w-24 h-24 mx-auto mb-6 rounded-full bg-gray-100 flex items-center justify-center">
                                    <i class="fas fa-globe text-5xl text-gray-300"></i>
                                </div>
                                <h4 class="text-lg font-semibold text-gray-700 mb-2">No Preview Available</h4>
                                <p class="text-gray-500 max-w-md mx-auto">Enter a URL above and click "Scrape Website" to see a live visual preview of the page</p>
                            </div>
                            <iframe id="previewFrame" class="preview-frame hidden"></iframe>
                        </div>
                        <div id="selectedElementInfo" class="mt-6 p-5 bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl border border-blue-200 hidden">
                            <div class="flex items-center gap-2 mb-3">
                                <i class="fas fa-check-circle text-green-500"></i>
                                <h4 class="font-bold text-gray-800">Element Selected</h4>
                            </div>
                            <div id="elementDetails" class="space-y-2 text-sm"></div>
                            <div class="mt-4 pt-4 border-t border-gray-200 flex gap-3">
                                <button onclick="createRuleFromSelection()" class="btn btn-success btn-sm">
                                    <i class="fas fa-plus"></i>
                                    <span>Create Extraction Rule</span>
                                </button>
                                <button onclick="clearSelection()" class="btn btn-ghost btn-sm">
                                    <i class="fas fa-times"></i>
                                    <span>Clear</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Element List Tab -->
                <div id="elementsTab" class="tab-content hidden">
                    <div class="glass-panel p-6">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center">
                                <i class="fas fa-list text-white text-sm"></i>
                            </div>
                            <h3 class="text-lg font-bold text-gray-800">Detected Elements</h3>
                        </div>
                        <div id="elementsContainer">
                            <div class="text-center py-16">
                                <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center">
                                    <i class="fas fa-search text-4xl text-gray-300"></i>
                                </div>
                                <h4 class="text-lg font-semibold text-gray-700 mb-2">No Elements Detected</h4>
                                <p class="text-gray-500">Scrape a website to detect and analyze page elements</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- HTML Code Tab -->
                <div id="htmlTab" class="tab-content hidden">
                    <div class="glass-panel p-6">
                        <div class="flex justify-between items-center mb-6">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center">
                                    <i class="fas fa-code text-white text-sm"></i>
                                </div>
                                <h3 class="text-lg font-bold text-gray-800">HTML Source Code</h3>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="copyHtml()" class="btn btn-secondary btn-sm">
                                    <i class="fas fa-copy"></i>
                                    <span>Copy Full HTML</span>
                                </button>
                                <button onclick="downloadHtml()" class="btn btn-primary btn-sm">
                                    <i class="fas fa-download"></i>
                                    <span>Download Full HTML</span>
                                </button>
                            </div>
                        </div>
                        <div id="htmlInfo" class="mb-4 p-4 bg-blue-50 rounded-xl border border-blue-200 hidden">
                            <div class="flex items-start gap-3">
                                <i class="fas fa-info-circle text-blue-500 mt-0.5"></i>
                                <div class="flex-1">
                                    <p class="font-semibold text-blue-800 mb-1">HTML Source Preview</p>
                                    <p class="text-sm text-blue-700">Showing first 500 lines. Use the buttons above to copy or download the complete HTML source code.</p>
                                    <p class="text-xs text-blue-600 mt-2" id="htmlStats"></p>
                                </div>
                            </div>
                        </div>
                        <pre id="htmlCode" class="code-block">// Scrape a website to view HTML code</pre>
                    </div>
                </div>

                <!-- Extraction Rules Tab -->
                <div id="extractionTab" class="tab-content hidden">
                    <div class="glass-panel p-6">
                        <div class="flex justify-between items-center mb-6">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center">
                                    <i class="fas fa-filter text-white text-sm"></i>
                                </div>
                                <h3 class="text-lg font-bold text-gray-800">Extraction Rules</h3>
                            </div>
                            <button onclick="showAddRuleModal()" class="btn btn-primary btn-sm">
                                <i class="fas fa-plus"></i>
                                <span>Add Rule</span>
                            </button>
                        </div>
                        <div id="rulesContainer">
                            <div class="text-center py-16">
                                <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center">
                                    <i class="fas fa-filter text-4xl text-gray-300"></i>
                                </div>
                                <h4 class="text-lg font-semibold text-gray-700 mb-2">No Extraction Rules</h4>
                                <p class="text-gray-500">Create rules to define what data you want to extract</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Results Tab -->
                <div id="resultsTab" class="tab-content hidden">
                    <div class="glass-panel p-6">
                        <div class="flex justify-between items-center mb-6">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center">
                                    <i class="fas fa-table text-white text-sm"></i>
                                </div>
                                <h3 class="text-lg font-bold text-gray-800">Extraction Results</h3>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="exportResults('json')" class="btn btn-secondary btn-sm">
                                    <i class="fas fa-file-code"></i>
                                    <span>JSON</span>
                                </button>
                                <button onclick="exportResults('csv')" class="btn btn-secondary btn-sm">
                                    <i class="fas fa-file-csv"></i>
                                    <span>CSV</span>
                                </button>
                                <button onclick="exportResults('txt')" class="btn btn-secondary btn-sm">
                                    <i class="fas fa-file-alt"></i>
                                    <span>TXT</span>
                                </button>
                            </div>
                        </div>
                        <div id="resultsContainer">
                            <div class="text-center py-16">
                                <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center">
                                    <i class="fas fa-table text-4xl text-gray-300"></i>
                                </div>
                                <h4 class="text-lg font-semibold text-gray-700 mb-2">No Results Yet</h4>
                                <p class="text-gray-500">Run extraction rules to see extracted data here</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel - Sidebar -->
            <div class="space-y-6">
                <!-- Session Info Card -->
                <div class="glass-panel-sm p-5">
                    <div class="flex items-center gap-2 mb-4">
                        <i class="fas fa-info-circle text-blue-500"></i>
                        <h4 class="font-bold text-gray-800">Session Status</h4>
                    </div>
                    <div id="sessionInfo" class="mb-3">
                        <span class="badge badge-secondary">No active session</span>
                    </div>
                    <div id="pageInfo" class="space-y-2 text-sm hidden">
                        <div class="p-3 bg-gray-50 rounded-lg">
                            <p class="text-xs text-gray-500 mb-1">URL</p>
                            <p id="pageUrl" class="font-medium text-gray-800 truncate"></p>
                        </div>
                        <div class="p-3 bg-gray-50 rounded-lg">
                            <p class="text-xs text-gray-500 mb-1">Page Title</p>
                            <p id="pageTitle" class="font-medium text-gray-800"></p>
                        </div>
                    </div>
                </div>

                <!-- Quick Extract Card -->
                <div class="glass-panel-sm p-5">
                    <div class="flex items-center gap-2 mb-4">
                        <i class="fas fa-bolt text-yellow-500"></i>
                        <h4 class="font-bold text-gray-800">Quick Extract</h4>
                    </div>
                    <div class="space-y-2">
                        <button onclick="quickExtract('headings')" class="w-full btn btn-ghost text-sm justify-start hover:bg-blue-50">
                            <i class="fas fa-heading text-blue-500 w-6"></i>
                            <span class="flex-1 text-left">All Headings</span>
                            <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                        </button>
                        <button onclick="quickExtract('links')" class="w-full btn btn-ghost text-sm justify-start hover:bg-green-50">
                            <i class="fas fa-link text-green-500 w-6"></i>
                            <span class="flex-1 text-left">All Links</span>
                            <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                        </button>
                        <button onclick="quickExtract('images')" class="w-full btn btn-ghost text-sm justify-start hover:bg-purple-50">
                            <i class="fas fa-image text-purple-500 w-6"></i>
                            <span class="flex-1 text-left">All Images</span>
                            <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                        </button>
                        <button onclick="quickExtract('paragraphs')" class="w-full btn btn-ghost text-sm justify-start hover:bg-orange-50">
                            <i class="fas fa-paragraph text-orange-500 w-6"></i>
                            <span class="flex-1 text-left">All Paragraphs</span>
                            <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                        </button>
                        <button onclick="quickExtract('tables')" class="w-full btn btn-ghost text-sm justify-start hover:bg-red-50">
                            <i class="fas fa-table text-red-500 w-6"></i>
                            <span class="flex-1 text-left">All Tables</span>
                            <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                        </button>
                    </div>
                </div>

                <!-- Saved Rules Card -->
                <div class="glass-panel-sm p-5">
                    <div class="flex items-center gap-2 mb-4">
                        <i class="fas fa-bookmark text-purple-500"></i>
                        <h4 class="font-bold text-gray-800">Saved Rules</h4>
                    </div>
                    <div id="savedRulesList" class="space-y-2">
                        <p class="text-sm text-gray-500 italic">No saved rules</p>
                    </div>
                </div>

                <!-- Run All Button -->
                <button onclick="runAllRules()" class="w-full btn btn-primary btn-lg shadow-glow">
                    <i class="fas fa-play"></i>
                    <span>Run All Rules</span>
                </button>

                <!-- Tips Card -->
                <div class="glass-panel-sm p-5 bg-gradient-to-br from-yellow-50 to-orange-50 border border-yellow-200">
                    <div class="flex items-center gap-2 mb-3">
                        <i class="fas fa-lightbulb text-yellow-600"></i>
                        <h4 class="font-bold text-yellow-800">Pro Tip</h4>
                    </div>
                    <p class="text-sm text-yellow-700">
                        Use CSS selectors like <code>.class-name</code> or <code>#element-id</code> for precise targeting. XPath is great for complex selections!
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Rule Modal -->
    <div id="addRuleModal" class="modal-overlay">
        <div class="modal modal-lg">
            <div class="modal-header">
                <h3 class="modal-title">
                    <i class="fas fa-plus-circle text-blue-500 mr-2"></i>
                    Add Extraction Rule
                </h3>
                <button onclick="closeAddRuleModal()" class="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" style="overflow-y: auto; max-height: calc(70vh - 140px);">
                <div class="space-y-5">
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">
                            <i class="fas fa-tag text-blue-500 mr-2"></i>Rule Name
                        </label>
                        <input type="text" id="ruleName" class="input-field" placeholder="e.g., Product Titles, Article Headlines...">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">
                            <i class="fas fa-crosshairs text-purple-500 mr-2"></i>Selector Type
                        </label>
                        <select id="selectorType" class="input-field select-field" onchange="updateSelectorHelp()">
                            <option value="css">CSS Selector (Recommended)</option>
                            <option value="xpath">XPath (Advanced)</option>
                            <option value="tag">Tag Name</option>
                            <option value="class">Class Name</option>
                            <option value="id">ID</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">
                            <i class="fas fa-search text-green-500 mr-2"></i>Selector
                        </label>
                        <input type="text" id="selectorValue" class="input-field" placeholder="e.g., .product-title, #main-content, h1...">
                        <p id="selectorHelp" class="text-xs text-gray-500 mt-2">
                            <i class="fas fa-info-circle mr-1"></i>Enter a CSS selector to target elements
                        </p>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">
                            <i class="fas fa-database text-orange-500 mr-2"></i>Extract Attribute
                        </label>
                        <select id="extractAttribute" class="input-field select-field">
                            <option value="text">üìù Text Content</option>
                            <option value="html">üåê HTML Content</option>
                            <option value="href">üîó Href (for links)</option>
                            <option value="src">üñºÔ∏è Src (for images)</option>
                            <option value="alt">üì∑ Alt Text</option>
                            <option value="title">üìå Title Attribute</option>
                            <option value="id">üè∑Ô∏è ID Attribute</option>
                            <option value="class">üé® Class Attribute</option>
                            <option value="all">üì¶ All Data</option>
                        </select>
                    </div>

                    <!-- Examples Card -->
                    <div class="p-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl border border-blue-200">
                        <p class="text-sm font-semibold text-gray-700 mb-2">
                            <i class="fas fa-book-open text-blue-500 mr-2"></i>Example Selectors:
                        </p>
                        <div class="grid grid-cols-2 gap-2 text-xs">
                            <code class="bg-white px-2 py-1 rounded">.product-title</code>
                            <code class="bg-white px-2 py-1 rounded">#main-content</code>
                            <code class="bg-white px-2 py-1 rounded">h1, h2, h3</code>
                            <code class="bg-white px-2 py-1 rounded">a[href^="https"]</code>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button onclick="closeAddRuleModal()" class="btn btn-secondary">
                    <i class="fas fa-times"></i>
                    <span>Cancel</span>
                </button>
                <button onclick="saveRule()" class="btn btn-primary">
                    <i class="fas fa-save"></i>
                    <span>Save Rule</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="helpModal" class="modal-overlay">
        <div class="modal modal-lg">
            <div class="modal-header">
                <h3 class="modal-title">
                    <i class="fas fa-question-circle text-blue-500 mr-2"></i>
                    How to Use Web Scraper Pro
                </h3>
                <button onclick="closeHelp()" class="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="space-y-6">
                    <!-- Step 1 -->
                    <div class="flex gap-4">
                        <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold flex-shrink-0 shadow-md">
                            1
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold text-lg text-gray-800 mb-2">Scrape a Website</h4>
                            <p class="text-gray-600">Enter the URL of the website you want to scrape and click the "Scrape Website" button. The tool will fetch the page using Selenium and render any JavaScript content.</p>
                        </div>
                    </div>

                    <!-- Step 2 -->
                    <div class="flex gap-4">
                        <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center text-white font-bold flex-shrink-0 shadow-md">
                            2
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold text-lg text-gray-800 mb-2">Select Elements Visually</h4>
                            <p class="text-gray-600">Use the Visual Selector tab to interactively click on elements in the page preview. Hover to highlight elements and click to select them. The Element List tab shows all detected elements organized by type.</p>
                        </div>
                    </div>

                    <!-- Step 3 -->
                    <div class="flex gap-4">
                        <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center text-white font-bold flex-shrink-0 shadow-md">
                            3
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold text-lg text-gray-800 mb-2">Create Extraction Rules</h4>
                            <p class="text-gray-600">Create rules to extract specific data:</p>
                            <ul class="list-disc ml-6 mt-2 space-y-1 text-gray-600">
                                <li><strong class="text-gray-800">CSS Selector:</strong> Use CSS selectors like <code>.class</code>, <code>#id</code>, <code>tag[attr]</code></li>
                                <li><strong class="text-gray-800">XPath:</strong> Use XPath expressions for complex selections</li>
                                <li><strong class="text-gray-800">Attribute:</strong> Choose what to extract (text, href, src, etc.)</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Step 4 -->
                    <div class="flex gap-4">
                        <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-white font-bold flex-shrink-0 shadow-md">
                            4
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold text-lg text-gray-800 mb-2">Export Results</h4>
                            <p class="text-gray-600">After running your extraction rules, export the results in your preferred format: JSON for structured data, CSV for spreadsheets, or TXT for plain text.</p>
                        </div>
                    </div>

                    <!-- Examples -->
                    <div class="p-5 bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl border border-gray-200">
                        <h4 class="font-bold text-gray-800 mb-3">
                            <i class="fas fa-code text-blue-500 mr-2"></i>Example CSS Selectors
                        </h4>
                        <div class="space-y-2 font-mono text-sm">
                            <div class="flex items-center gap-3 p-2 bg-white rounded-lg">
                                <code class="text-blue-600">.product-title</code>
                                <span class="text-gray-500">‚Üí Elements with class "product-title"</span>
                            </div>
                            <div class="flex items-center gap-3 p-2 bg-white rounded-lg">
                                <code class="text-purple-600">#main-content</code>
                                <span class="text-gray-500">‚Üí Element with id "main-content"</span>
                            </div>
                            <div class="flex items-center gap-3 p-2 bg-white rounded-lg">
                                <code class="text-green-600">h1, h2, h3</code>
                                <span class="text-gray-500">‚Üí All heading elements</span>
                            </div>
                            <div class="flex items-center gap-3 p-2 bg-white rounded-lg">
                                <code class="text-orange-600">a[href^="https"]</code>
                                <span class="text-gray-500">‚Üí Links starting with https</span>
                            </div>
                            <div class="flex items-center gap-3 p-2 bg-white rounded-lg">
                                <code class="text-red-600">div > p</code>
                                <span class="text-gray-500">‚Üí Direct child paragraphs</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button onclick="closeHelp()" class="btn btn-primary btn-lg">
                    <i class="fas fa-check"></i>
                    <span>Got it!</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
